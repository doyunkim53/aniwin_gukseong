<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>애니윈 만화 적성 검사 결과</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>상담을 위한 인적사항</h1>
    <table>
        <tr>
            <th>이름</th>
            <td id="name"></td>
        </tr>
        <tr>
            <th>나이</th>
            <td id="age"></td>
        </tr>
        <tr>
            <th>학교/학년</th>
            <td id="school"></td>
        </tr>
        <tr>
            <th>희망 전공</th>
            <td id="major"></td>
        </tr>
    </table>

    <h2>검사 결과</h2>
    <canvas id="resultChart" width="400" height="200"></canvas>

    <h2>검사 항목별 분석</h2>

    <div id="analysis"></div>

    <img src="aniwin-logo.png" alt="애니윈 로고" width="200px" style="margin-top: 50px;">

    <script>
        // 인적 사항을 받아서 채우기
        document.getElementById('name').innerText = localStorage.getItem('name');
        document.getElementById('age').innerText = localStorage.getItem('age');
        document.getElementById('school').innerText = localStorage.getItem('school');
        document.getElementById('major').innerText = localStorage.getItem('major');

        // 검사 결과에 따라 그래프 그리기
        const ctx = document.getElementById('resultChart').getContext('2d');
        const chartData = JSON.parse(localStorage.getItem('chartData'));
        
        const resultChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['창의력', '색채 감각', '공간 인식', '디테일 묘사', '아이디어 시각화', '이야기 구성'],
                datasets: [{
                    label: '점수',
                    data: chartData,
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 5
                    }
                }
            }
        });

        // 선택에 따른 설명
        const analysis = {
            creativity: {
                A: "당신의 창의력은 뛰어나며, 새로운 아이디어를 자유롭게 떠올리고 시각적으로 표현할 수 있습니다.",
                B: "당신은 종종 창의적인 아이디어를 떠올리며, 다양한 프로젝트에서 그 능력을 발휘할 수 있습니다.",
                C: "창의력을 더 발전시키기 위해 다양한 창작 활동을 시도하는 것이 좋습니다.",
                D: "창의력 향상을 위해 다양한 창의적 도구와 연습이 필요합니다."
            },
            colorPerception: {
                A: "색채 감각이 매우 뛰어나며, 직관적으로 정확한 색상을 선택할 수 있습니다.",
                B: "대체로 적절한 색을 고를 수 있으며, 색채 감각을 꾸준히 활용할 수 있습니다.",
                C: "색상 선택에 어려움을 겪는 경우가 종종 있으며, 색채 이론을 더 학습하면 도움이 될 수 있습니다.",
                D: "색상 선택에 자신감을 키우는 연습이 필요합니다."
            },
            spatialAwareness: {
                A: "공간 인식 능력이 뛰어나며, 복잡한 3D 구조를 잘 떠올릴 수 있습니다.",
                B: "공간 인식 능력이 좋으며, 이를 더 발전시키면 훌륭한 3D 작업을 할 수 있습니다.",
                C: "공간 인식을 더 향상시키기 위해 3D 작업에 대한 추가 연습이 필요할 수 있습니다.",
                D: "공간 인식 능력을 키우기 위해 더 많은 연습과 3D 작업이 필요합니다."
            },
            detail: {
                A: "디테일 묘사 능력이 뛰어나며, 세부적인 표현에 매우 능숙합니다.",
                B: "종종 디테일에 신경을 쓰며, 이를 통해 작품의 완성도를 높일 수 있습니다.",
                C: "디테일 묘사에 약간의 어려움이 있지만, 꾸준한 연습을 통해 극복할 수 있습니다.",
                D: "디테일한 묘사에 집중하는 연습이 필요합니다."
            },
            visualization: {
                A: "아이디어를 시각적으로 매우 효과적으로 표현할 수 있습니다.",
                B: "종종 아이디어를 시각적으로 표현하는 데 성공하며, 이를 더 발전시키면 좋습니다.",
                C: "아이디어를 시각적으로 표현하는 데 약간의 어려움을 겪습니다.",
                D: "시각적 표현 능력을 향상시키기 위한 연습이 필요합니다."
            },
            storytelling: {
                A: "이야기 구성 능력이 매우 뛰어나며, 캐릭터와 이야기를 자연스럽게 이어갈 수 있습니다.",
                B: "종종 이야기 구성을 성공적으로 이어갈 수 있으며, 꾸준히 발전시킬 수 있습니다.",
                C: "이야기 구성을 더 매끄럽게 하기 위해 연습이 필요합니다.",
                D: "이야기 구성 능력을 키우기 위한 추가적인 연습이 필요합니다."
            }
        };

        // 선택 결과에 따른 분석
        const userSelection = JSON.parse(localStorage.getItem('userSelection'));
        const analysisDiv = document.getElementById('analysis');

        const categories = ['creativity', 'colorPerception', 'spatialAwareness', 'detail', 'visualization', 'storytelling'];
        categories.forEach((category, index) => {
            const paragraph = document.createElement('p');
            paragraph.innerText = analysis[category][userSelection[index]];
            analysisDiv.appendChild(paragraph);
        });
    </script>

</body>
</html>