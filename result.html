<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>애니윈 만화 적성 검사 결과</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <h1>상담을 위한 인적사항</h1>
    <table>
        <tr>
            <th style="background-color: #e0f7fa;">이름</th>
            <td id="name">홍길동</td>
        </tr>
        <tr>
            <th style="background-color: #e0f7fa;">나이</th>
            <td id="age">32세</td>
        </tr>
        <tr>
            <th style="background-color: #e0f7fa;">학교/학년</th>
            <td id="school">홍익대/4학년</td>
        </tr>
        <tr>
            <th style="background-color: #e0f7fa;">희망 전공</th>
            <td id="major">애니메이션</td>
        </tr>
    </table>

    <h2>검사 결과</h2>
    <div style="background-color: #e0f7fa; padding: 10px;">
        <h3>창의력 (Creative Thinking)</h3>
        <p id="result-q1">• (A) 항상 새로운 아이디어가 떠오릅니다.</p>

        <h3>색채 감각 (Color Perception)</h3>
        <p id="result-q2">• (A) 색상을 고를 때 항상 직관적으로 정확한 선택을 합니다.</p>

        <h3>공간 인식 능력 (Spatial Awareness)</h3>
        <p id="result-q3">• (A) 3D로 떠올리고 표현하는 것이 자연스럽습니다.</p>

        <h3>디테일 묘사 능력 (Attention to Detail)</h3>
        <p id="result-q4">• (A) 세부 묘사에 매우 신경 쓰고 즐깁니다.</p>

        <h3>시각적 표현 능력 (Visual Expression Skills)</h3>
        <p id="result-q5">• (A) 캐릭터와 이야기의 흐름을 시각적으로 매끄럽게 표현할 수 있습니다.</p>

        <h3>스토리텔링 능력 (Storytelling Skills)</h3>
        <p id="result-q6">• (A) 항상 그림으로 명확한 이야기를 전달할 수 있습니다.</p>
    </div>

    <h2>결과 설명</h2>
    <div style="background-color: #e0f7fa; padding: 10px;">
        <p>결과를 바탕으로 학생의 적성과 성향을 설명하며, 보완이 필요한 영역은 개선 방법을 제안합니다.</p>
    </div>

    <!-- 그래프를 표시할 영역 -->
    <h2>그래프</h2>
    <canvas id="radarChart" width="400" height="400"></canvas>

    <img src="aniwin-logo.png" alt="애니윈 로고" width="200px" style="display:block; margin:20px auto;">

    <script>
        // URL 매개변수에서 값 추출
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        const age = urlParams.get('age');
        const school = urlParams.get('school');
        const major = urlParams.get('major');
        const q1 = urlParams.get('q1');
        const q2 = urlParams.get('q2');
        const q3 = urlParams.get('q3');
        const q4 = urlParams.get('q4');
        const q5 = urlParams.get('q5');
        const q6 = urlParams.get('q6');

        // 인적사항 반영
        document.getElementById('name').textContent = name;
        document.getElementById('age').textContent = age + "세";
        document.getElementById('school').textContent = school;
        document.getElementById('major').textContent = major;

        // 질문별 결과 처리
        const scores = { q1, q2, q3, q4, q5, q6 };
        const labels = {
            q1: "창의력 (Creative Thinking)",
            q2: "색채 감각 (Color Perception)",
            q3: "공간 인식 능력 (Spatial Awareness)",
            q4: "디테일 묘사 능력 (Attention to Detail)",
            q5: "시각적 표현 능력 (Visual Expression Skills)",
            q6: "스토리텔링 능력 (Storytelling Skills)"
        };

        // 점수에 따른 텍스트 설명
        for (let i = 1; i <= 6; i++) {
            const result = document.getElementById(`result-q${i}`);
            const score = scores[`q${i}`];

            if (score === 'A') {
                result.textContent = "• (A) 뛰어난 능력을 보입니다.";
            } else if (score === 'B') {
                result.textContent = "• (B) 평균 이상이며 꾸준히 발전할 수 있습니다.";
            } else if (score === 'C') {
                result.textContent = "• (C) 발전 가능성이 있으며 연습이 필요합니다.";
            } else if (score === 'D') {
                result.textContent = "• (D) 보완이 필요하며, 지속적인 연습이 요구됩니다.";
            }
        }

        // 차트 그리기
        const ctx = document.getElementById('radarChart').getContext('2d');
        const radarChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: Object.values(labels),
                datasets: [{
                    label: name + '의 검사 결과',
                    data: [q1 * 25, q2 * 25, q3 * 25, q4 * 25, q5 * 25, q6 * 25], // 점수 반영
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                scales: {
                    r: {
                        ticks: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            }
        });
    </script>

</body>
</html>