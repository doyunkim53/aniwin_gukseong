<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>애니윈 만화 적성 검사 결과</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        h1, h2 {
            color: #333;
        }
        .info-box, .result-box {
            background-color: #e0f7fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .result-box h2 {
            background-color: #bbdefb;
            padding: 10px;
            border-radius: 8px;
            color: #333;
        }
        table {
            width: 100%;
            margin-bottom: 20px;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #e0f7fa;
        }
        td {
            background-color: #ffffff;
        }
        .chart-container {
            width: 80%;
            margin: 0 auto;
        }
    </style>
</head>
<body>

    <div class="info-box">
        <h1>상담을 위한 인적사항</h1>
        <table>
            <tr>
                <th>이름</th>
                <td id="name"></td>
            </tr>
            <tr>
                <th>나이</th>
                <td id="age"></td>
            </tr>
            <tr>
                <th>학교/학년</th>
                <td id="school"></td>
            </tr>
            <tr>
                <th>희망 전공</th>
                <td id="major"></td>
            </tr>
        </table>
    </div>

    <div class="result-box">
        <h2>검사 결과</h2>
        <div id="chart-container" class="chart-container">
            <canvas id="radarChart"></canvas>
        </div>
        <h2>결과 설명</h2>
        <p id="resultText"></p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const params = new URLSearchParams(window.location.search);
            const name = params.get("name") || "응시자";
            const age = params.get("age") || "";
            const school = params.get("school") || "";
            const major = params.get("major") || "";

            document.getElementById("name").innerText = name;
            document.getElementById("age").innerText = age;
            document.getElementById("school").innerText = school;
            document.getElementById("major").innerText = major;

            const scores = {
                q1: params.get("q1") || "A",
                q2: params.get("q2") || "A",
                q3: params.get("q3") || "A",
                q4: params.get("q4") || "A",
                q5: params.get("q5") || "A",
                q6: params.get("q6") || "A",
            };

            const scoreMap = { A: 100, B: 80, C: 60, D: 40 };
            const labels = [
                "창의력",
                "색채 감각",
                "공간 인식 능력",
                "디테일 묘사 능력",
                "아이디어 시각화",
                "이야기 흐름 구성"
            ];
            const data = [
                scoreMap[scores.q1],
                scoreMap[scores.q2],
                scoreMap[scores.q3],
                scoreMap[scores.q4],
                scoreMap[scores.q5],
                scoreMap[scores.q6]
            ];

            new Chart(document.getElementById("radarChart"), {
                type: "radar",
                data: {
                    labels: labels,
                    datasets: [{
                        label: "점수",
                        data: data,
                        fill: true,
                        backgroundColor: "rgba(30, 136, 229, 0.2)",
                        borderColor: "rgba(30, 136, 229, 0.8)",
                        pointBackgroundColor: "rgba(30, 136, 229, 1)"
                    }]
                },
                options: {
                    scale: {
                        ticks: {
                            min: 0,
                            max: 100,
                            stepSize: 20,
                            beginAtZero: true
                        }
                    }
                }
            });

            const resultDescriptions = {
                q1: {
                    A: `${name}는 창의적 사고가 매우 뛰어나며 다양한 아이디어를 자연스럽게 떠올릴 수 있습니다.`,
                    B: `${name}는 충분한 창의적 잠재력을 지니고 있습니다.`,
                    C: `${name}는 특정 상황에서 창의력이 발휘됩니다.`,
                    D: `${name}는 창의력을 키우는 연습이 필요합니다.`
                },
                q2: {
                    A: `${name}는 색채 감각이 뛰어납니다.`,
                    B: `${name}는 색상 선택에 강한 직감을 가지고 있습니다.`,
                    C: `${name}는 색상 선택에 고민이 있을 때가 있습니다.`,
                    D: `${name}는 색채 선택에서 자신감을 키워야 합니다.`
                },
                q3: {
                    A: `${name}는 3D 공간 인식 능력이 매우 뛰어납니다.`,
                    B: `${name}는 3D 공간에서 작업할 때 강점을 보입니다.`,
                    C: `${name}는 공간 인식에서 어려움을 느낄 때가 있습니다.`,
                    D: `${name}는 공간 인식 능력을 향상할 필요가 있습니다.`
                },
                q4: {
                    A: `${name}는 세부 묘사에 매우 능숙합니다.`,
                    B: `${name}는 세부 묘사에 신경을 씁니다.`,
                    C: `${name}는 세부 묘사보다는 큰 그림에 집중하는 편입니다.`,
                    D: `${name}는 전체적인 흐름에 더 중점을 둡니다.`
                },
                q5: {
                    A: `${name}는 아이디어 시각화에서 탁월한 감각을 보입니다.`,
                    B: `${name}는 아이디어를 잘 시각화합니다.`,
                    C: `${name}는 아이디어 시각화에 어려움을 느낄 수 있습니다.`,
                    D: `${name}는 시각화 작업에서 개선이 필요합니다.`
                },
                q6: {
                    A: `${name}는 이야기 흐름 구성 능력이 매우 뛰어납니다.`,
                    B: `${name}는 이야기 흐름을 잘 구성합니다.`,
                    C: `${name}는 이야기 흐름에서 어려움을 느낄 수 있습니다.`,
                    D: `${name}는 이야기 구성 능력을 키워야 합니다.`
                }
            };

            let resultText = "";
            for (const [key, value] of Object.entries(scores)) {
                resultText += `<h3>${labels[parseInt(key.slice(1)) - 1]}</h3><p>${resultDescriptions[key][value]}</p>`;
            }
            document.getElementById("resultText").innerHTML = resultText;
        });
    </script>
</body>
</html>