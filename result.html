<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>애니윈 만화 적성 검사 결과</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1 style="background-color: lightblue; padding: 10px;">상담을 위한 인적사항</h1>
    <table style="background-color: lightblue; padding: 10px;">
        <tr>
            <th>이름</th>
            <td id="name"></td>
        </tr>
        <tr>
            <th>나이</th>
            <td id="age"></td>
        </tr>
        <tr>
            <th>학교/학년</th>
            <td id="school"></td>
        </tr>
        <tr>
            <th>희망 전공</th>
            <td id="major"></td>
        </tr>
    </table>

    <h2 style="background-color: lightblue;">1. 창의력 (Creative Thinking)</h2>
    <p id="result-q1"></p>

    <h2 style="background-color: lightblue;">2. 색채 감각 (Color Perception)</h2>
    <p id="result-q2"></p>

    <h2 style="background-color: lightblue;">3. 공간 인식 능력 (Spatial Awareness)</h2>
    <p id="result-q3"></p>

    <h2 style="background-color: lightblue;">4. 디테일 묘사 능력 (Attention to Detail)</h2>
    <p id="result-q4"></p>

    <h2 style="background-color: lightblue;">5. 아이디어의 시각적 표현 능력</h2>
    <p id="result-q5"></p>

    <h2 style="background-color: lightblue;">6. 이야기의 흐름을 매끄럽게 구성하는 능력</h2>
    <p id="result-q6"></p>

    <h2 style="background-color: lightblue;">결과 요약</h2>
    <p>검사 항목별 결과 요약 및 분석을 기반으로 학생의 적성 및 성향을 설명합니다.</p>

    <canvas id="resultChart" width="400" height="400"></canvas>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        const age = urlParams.get('age');
        const school = urlParams.get('school');
        const major = urlParams.get('major');
        const q1 = urlParams.get('q1');
        const q2 = urlParams.get('q2');
        const q3 = urlParams.get('q3');
        const q4 = urlParams.get('q4');
        const q5 = urlParams.get('q5');
        const q6 = urlParams.get('q6');

        document.getElementById('name').textContent = name;
        document.getElementById('age').textContent = age;
        document.getElementById('school').textContent = school;
        document.getElementById('major').textContent = major;

        function getEnding(name) {
            const lastChar = name.charAt(name.length - 1);
            const hasFinalConsonant = lastChar.match(/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/) && lastChar.charCodeAt(0) % 28 !== 16;
            return hasFinalConsonant ? '은' : '는';
        }

        document.getElementById('result-q1').textContent = `${name}${getEnding(name)} 창의적 사고에서 뛰어난 능력을 보입니다. ${q1 === 'A' ? '당신은' : '다른 사람과'} 아이디어 생성 능력이 다릅니다.`;
        document.getElementById('result-q2').textContent = `${name}${getEnding(name)} 색채 감각에서 탁월한 성과를 보이고 있습니다.`;
        document.getElementById('result-q3').textContent = `${name}${getEnding(name)} 공간 인식 능력이 뛰어납니다.`;
        document.getElementById('result-q4').textContent = `${name}${getEnding(name)} 디테일 묘사에서 많은 장점을 가지고 있습니다.`;
        document.getElementById('result-q5').textContent = `${name}${getEnding(name)} 아이디어를 시각적으로 표현하는 능력이 뛰어납니다.`;
        document.getElementById('result-q6').textContent = `${name}${getEnding(name)} 이야기 흐름을 매끄럽게 구성하는 데 능숙합니다.`;

        const ctx = document.getElementById('resultChart').getContext('2d');
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['창의력', '색채 감각', '공간 인식', '디테일 묘사', '아이디어 시각화', '이야기 흐름 구성'],
                datasets: [{
                    label: '점수',
                    data: [
                        q1 === 'A' ? 100 : q1 === 'B' ? 80 : q1 === 'C' ? 60 : 40,
                        q2 === 'A' ? 100 : q2 === 'B' ? 80 : q2 === 'C' ? 60 : 40,
                        q3 === 'A' ? 100 : q3 === 'B' ? 80 : q3 === 'C' ? 60 : 40,
                        q4 === 'A' ? 100 : q4 === 'B' ? 80 : q4 === 'C' ? 60 : 40,
                        q5 === 'A' ? 100 : q5 === 'B' ? 80 : q5 === 'C' ? 60 : 40,
                        q6 === 'A' ? 100 : q6 === 'B' ? 80 : q6 === 'C' ? 60 : 40,
                    ],
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    r: {
                        max: 100,
                        min: 0,
                        ticks: {
                            stepSize: 20
                        }
                    }
                }
            }
        });
    </script>

    <img src="aniwin-logo.png" alt="애니윈 로고" width="200px">

</body>
</html>