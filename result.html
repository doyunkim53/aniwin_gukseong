<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>애니윈 만화 적성 검사 결과</title>
    <link rel="stylesheet" href="style.css">
    <script src="Chart.js"></script>
</head>
<body>

    <!-- 상담을 위한 인적사항 표시 -->
    <h1>상담을 위한 인적사항</h1>
    <table>
        <tr><th>이름</th><td id="name"></td></tr>
        <tr><th>나이</th><td id="age"></td></tr>
        <tr><th>학교/학년</th><td id="school"></td></tr>
        <tr><th>희망 전공</th><td id="major"></td></tr>
    </table>

    <!-- 결과 설명 -->
    <h2>검사 결과</h2>
    <div id="result-explanation"></div>

    <!-- 육각형 그래프 -->
    <canvas id="radarChart" width="400" height="400"></canvas>

    <script>
        // URL에서 매개변수 가져오기
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        const age = urlParams.get('age');
        const school = urlParams.get('school');
        const major = urlParams.get('major');
        const q1 = urlParams.get('q1');
        const q2 = urlParams.get('q2');
        const q3 = urlParams.get('q3');
        const q4 = urlParams.get('q4');
        const q5 = urlParams.get('q5');
        const q6 = urlParams.get('q6');

        // 인적 사항 표시
        document.getElementById('name').textContent = name;
        document.getElementById('age').textContent = age;
        document.getElementById('school').textContent = school;
        document.getElementById('major').textContent = major;

        // 질문에 따른 결과 설명
        const explanations = {
            q1: {
                A: `${name}님은 창의적 사고에서 매우 뛰어납니다. 특히 여러 아이디어를 자주 떠올리는 경향이 있어, 창의적인 작업에서 큰 강점을 보입니다.`,
                B: `${name}님은 충분히 창의적인 사고를 가지고 있으며, 여러 아이디어를 자주 떠올릴 수 있습니다.`,
                C: `${name}님은 가끔씩 창의적인 아이디어를 떠올리지만, 좀 더 노력이 필요할 수 있습니다.`,
                D: `${name}님은 아이디어를 떠올리는 데 약간 어려움을 느낄 수 있지만, 연습을 통해 개선될 수 있습니다.`
            },
            q2: {
                A: `${name}님은 색채 감각에서 매우 뛰어납니다. 직관적으로 색을 잘 고르며, 시각적 표현에서 큰 도움이 됩니다.`,
                B: `${name}님은 색채 감각이 뛰어나며, 대부분의 경우 적절한 색을 고를 수 있습니다.`,
                C: `${name}님은 색을 고르는 데 고민이 있을 수 있지만, 연습을 통해 개선될 수 있습니다.`,
                D: `${name}님은 색채 감각을 키우는 데 약간 어려움이 있을 수 있으며, 연습을 통해 발전할 수 있습니다.`
            },
            q3: {
                A: `${name}님은 공간 인식 능력이 뛰어납니다. 3D로 떠올리거나 표현하는 데 큰 강점을 가지고 있습니다.`,
                B: `${name}님은 충분히 좋은 공간 인식 능력을 가지고 있으며, 3D 작업에서 큰 도움이 됩니다.`,
                C: `${name}님은 공간 인식 능력에서 약간 어려움을 느낄 수 있지만, 개선할 수 있습니다.`,
                D: `${name}님은 3D 시각화에 어려움을 겪을 수 있으며, 지속적인 연습이 필요합니다.`
            },
            q4: {
                A: `${name}님은 디테일 묘사에서 매우 뛰어납니다. 작은 부분까지도 신경을 쓰며 세심한 표현을 할 수 있습니다.`,
                B: `${name}님은 디테일 묘사에 신경을 쓰며, 매우 좋은 시각적 표현을 할 수 있습니다.`,
                C: `${name}님은 디테일 묘사에 약간 어려움이 있을 수 있지만, 연습을 통해 개선될 수 있습니다.`,
                D: `${name}님은 디테일 묘사에서 어려움을 겪을 수 있으며, 연습이 필요할 수 있습니다.`
            },
            q5: {
                A: `${name}님은 시각적 표현에 있어 매우 뛰어난 능력을 보입니다. 캐릭터와 이야기 흐름을 시각적으로 잘 표현할 수 있습니다.`,
                B: `${name}님은 시각적 표현에서 좋은 능력을 보이며, 대부분의 경우 흐름을 잘 표현할 수 있습니다.`,
                C: `${name}님은 시각적 표현에서 약간 어려움을 겪을 수 있지만, 연습을 통해 발전할 수 있습니다.`,
                D: `${name}님은 시각적 흐름을 표현하는 데 어려움을 겪을 수 있으며, 개선이 필요합니다.`
            },
            q6: {
                A: `${name}님은 스토리텔링 능력이 매우 뛰어납니다. 그림으로 이야기를 명확하게 전달하는 데 큰 강점을 보입니다.`,
                B: `${name}님은 스토리텔링 능력이 뛰어나며, 대부분의 경우 그림으로 이야기를 잘 전달할 수 있습니다.`,
                C: `${name}님은 스토리텔링에서 약간 어려움을 겪을 수 있지만, 연습을 통해 발전할 수 있습니다.`,
                D: `${name}님은 스토리텔링에서 어려움을 느낄 수 있으며, 개선이 필요할 수 있습니다.`
            }
        };

        // 결과 설명 텍스트 생성
        let resultExplanation = `<h2>검사 결과</h2>`;
        resultExplanation += `<h3>창의력 (Creative Thinking)</h3><p>${explanations.q1[q1]}</p>`;
        resultExplanation += `<h3>색채 감각 (Color Perception)</h3><p>${explanations.q2[q2]}</p>`;
        resultExplanation += `<h3>공간 인식 능력 (Spatial Awareness)</h3><p>${explanations.q3[q3]}</p>`;
        resultExplanation += `<h3>디테일 묘사 능력 (Attention to Detail)</h3><p>${explanations.q4[q4]}</p>`;
        resultExplanation += `<h3>시각적 표현 능력 (Visual Expression Skills)</h3><p>${explanations.q5[q5]}</p>`;
        resultExplanation += `<h3>스토리텔링 능력 (Storytelling Skills)</h3><p>${explanations.q6[q6]}</p>`;

        document.getElementById('result-explanation').innerHTML = resultExplanation;

        // 육각형 그래프 생성
        const ctx = document.getElementById('radarChart').getContext('2d');
        const radarChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['창의력', '색채 감각', '공간 인식', '디테일 묘사', '시각적 표현', '스토리텔링'],
                datasets: [{
                    label: '적성 점수',
                    data: [scoreMap(q1), scoreMap(q2), scoreMap(q3), scoreMap(q4), scoreMap(q5), scoreMap(q6)],
                    backgroundColor: 'rgba(0, 123, 255, 0.2)',
                    borderColor: 'rgba(0, 123, 255, 1)',
                    pointBackgroundColor: 'rgba(0, 123, 255, 1)',
                }]
            },
            options: {
                scale: {
                    ticks: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });

        // 등급(A, B, C, D)에 따라 점수 매핑
        function scoreMap(grade) {
            switch (grade) {
                case 'A':
                    return 90;
                case 'B':
                    return 75;
                case 'C':
                    return 50;
                case 'D':
                    return 30;
                default:
                    return 0;
            }
        }
    </script>

    <img src="aniwin-logo.png" alt="애니윈 로고" width="200px">

</body>
</html>