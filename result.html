<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>애니윈 만화 적성 검사 결과</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <h1>상담을 위한 인적사항</h1>
    <table>
        <tr>
            <th>이름</th>
            <td id="name-result"></td>
        </tr>
        <tr>
            <th>나이</th>
            <td id="age-result"></td>
        </tr>
        <tr>
            <th>학교/학년</th>
            <td id="school-result"></td>
        </tr>
        <tr>
            <th>희망 전공</th>
            <td id="major-result"></td>
        </tr>
    </table>

    <h2>검사 결과</h2>

    <div id="result-box">
        <h3>창의력 (Creative Thinking)</h3>
        <p id="q1-result"></p>

        <h3>색채 감각 (Color Perception)</h3>
        <p id="q2-result"></p>

        <h3>공간 인식 능력 (Spatial Awareness)</h3>
        <p id="q3-result"></p>

        <h3>디테일 묘사 능력 (Attention to Detail)</h3>
        <p id="q4-result"></p>

        <h3>시각적 표현 능력 (Visual Expression Skills)</h3>
        <p id="q5-result"></p>

        <h3>스토리텔링 능력 (Storytelling Skills)</h3>
        <p id="q6-result"></p>
    </div>

    <h2>결과 설명</h2>
    <p>결과를 바탕으로 학생의 적성과 상황을 설명하며, 보완이 필요한 영역은 개선 방법을 제안합니다.</p>

    <h2>그래프</h2>
    <canvas id="myChart" width="400" height="400"></canvas>

    <script>
        // URL에서 매개변수 값 가져오기
        const params = new URLSearchParams(window.location.search);
        const name = params.get("name");
        const age = params.get("age");
        const school = params.get("school");
        const major = params.get("major");
        const q1 = params.get("q1");
        const q2 = params.get("q2");
        const q3 = params.get("q3");
        const q4 = params.get("q4");
        const q5 = params.get("q5");
        const q6 = params.get("q6");

        // 인적사항 값 삽입
        document.getElementById("name-result").innerText = name;
        document.getElementById("age-result").innerText = age + "세";
        document.getElementById("school-result").innerText = school;
        document.getElementById("major-result").innerText = major;

        // 결과 텍스트 설정
        const resultTexts = {
            A: "매우 뛰어난 능력을 가지고 있습니다.",
            B: "충분한 능력을 가지고 있습니다.",
            C: "보통 수준의 능력을 가지고 있습니다.",
            D: "발전이 필요한 부분입니다."
        };

        document.getElementById("q1-result").innerText = `(A) ${resultTexts[q1]}`;
        document.getElementById("q2-result").innerText = `(B) ${resultTexts[q2]}`;
        document.getElementById("q3-result").innerText = `(C) ${resultTexts[q3]}`;
        document.getElementById("q4-result").innerText = `(D) ${resultTexts[q4]}`;
        document.getElementById("q5-result").innerText = `(E) ${resultTexts[q5]}`;
        document.getElementById("q6-result").innerText = `(F) ${resultTexts[q6]}`;

        // 그래프 생성
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['창의력', '색채 감각', '공간 인식 능력', '디테일 묘사 능력', '시각적 표현 능력', '스토리텔링 능력'],
                datasets: [{
                    label: `${name}의 검사 결과`,
                    data: [
                        parseInt(q1) * 25,
                        parseInt(q2) * 25,
                        parseInt(q3) * 25,
                        parseInt(q4) * 25,
                        parseInt(q5) * 25,
                        parseInt(q6) * 25
                    ],
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scale: {
                    ticks: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });
    </script>

    <img src="aniwin-logo.png" alt="애니윈 로고" width="200px">

</body>
</html>